<!doctype html>
<html lang="ko" style="background-color: black;">
<head>
<title>[##_page_title_##] :: [##_title_##]</title>
<meta charset="UTF-8">
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">

<!-- STYLE -->
<link rel="stylesheet" type='text/css' href="./style.css">
<!-- 사용자 지정 색 -->
<style>
html[data-theme="light"] {
  --backCol: [##_var_backCol_light_##];
  --baseTextCol: [##_var_baseTextCol_light_##];
  --listBack: [##_var_listBack_light_##];
  --borderCol: [##_var_borderCol_light_##];
  --frameBack: [##_var_frameBack_light_##];
  --frameFore: [##_var_frameFore_light_##];
  --pointCol: [##_var_pointCol_light_##];
  --bonmunTextCol: [##_var_bonmunTextCol_light_##];
  --bonmunForm: [##_var_bonmunForm_light_##];
  --bonmunActing: [##_var_bonmunActing_light_##];
  --highlight: [##_var_highlight_light_##];
}

html[data-theme="dark"] {
  --backCol: [##_var_backCol_dark_##];
  --baseTextCol: [##_var_baseTextCol_dark_##];
  --listBack: [##_var_listBack_dark_##];
  --borderCol: [##_var_borderCol_dark_##];
  --frameBack: [##_var_frameBack_dark_##];
  --frameFore: [##_var_frameFore_dark_##];
  --pointCol: [##_var_pointCol_dark_##];
  --bonmunTextCol: [##_var_bonmunTextCol_dark_##];
  --bonmunForm: [##_var_bonmunForm_dark_##];
  --bonmunActing: [##_var_bonmunActing_dark_##];
  --highlight: [##_var_highlight_dark_##];
}</style>


<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


<script>
//
const thisHostname = new URL(window.location.href).hostname;
const thisOrigin   = new URL(window.location.href).origin;

const gt0 = Date.now();

//// url의 파라미터 가져오기
function getParameters() {
  let param = new Array();// 파라미터가 담길 배열
  const url = decodeURIComponent(decodeURIComponent(location.href));// url이 encodeURIComponent 로 인코딩 되었을때는 다시 디코딩 해준다.
  const params = url.substring(url.indexOf('?') + 1, url.length).split('&');// url에서 '?' 이후의 문자열까지 자르고 '&'로 분리
  //// params 배열을 '='로 쪼개 param 배열에 key=value 로 담기
  let key, value;
  for (let i = 0; i < params.length; i++) {
    let temp = params[i].split('=')
    key = temp[0];
    value = temp[1];
    param[key] = value;
  }
  return param;
}
const param = getParameters();

//// 티스토리 스킨 옵션 값 가져오기
function getTskinOptionNumVal( optionValueString, minVal, defaultVal ) {
  try{
    if( optionValueString === '' ) return defaultVal;
    if( optionValueString == null ) return defaultVal;
    let val = Number( optionValueString );
    if( val < minVal ) return defaultVal;
    return val;
  }catch (e){
    console.error('옵션 값 '+optionValueString+'을를 수로 변환  실패');
    return defaultVal;
  }
}

////// 다크모드 - html
(function(){
  let isDark = false;
  const saved = localStorage.getItem('darkmode');
  if( saved != null ){
    isDark = saved === 'true' ? true : false;
  }else{
    const hour = new Date().getHours();
    if( hour >= 18 || hour < 6 )
      isDark = true;
  }
  if( isDark ){
    document.documentElement.setAttribute('data-theme', 'dark');
  }else{
    document.documentElement.setAttribute('data-theme', 'light');
  }
})();

//
function checkDeletePost() {
  if ('[##_var_checkDeletePost_##]' == true) {
    const checkCode = Math.floor(Math.random() * 90) + 10 + '';
    let checkInput = prompt('정말 삭제하시려면 다음 숫자를 정확히 입력하세요: ' + checkCode);
    return checkCode === checkInput;
  } else {
    return true;
  }
}
//// 요소 복사
// 페이지 로딩 완료 후
// copy-origin 의 내용을 copy-target 로 복사.
// data-copyname 으로 복사항목끼리 구별.
// 예시
// <div class="copy-origin" data-copyname="name123">복사할 내용</div>
// <div class="copy-target" data-copyname="name123"></div>
// 복사원본은 하나만(원본끼리 서로다른이름). 복사대상은 같은 이름으로 여러 개 있어도 된다. 모두 복사.
document.addEventListener('DOMContentLoaded', function () {

  const map1 = new Map();

  //// 대상 copyname별로 맵에 넣기
  const targets = document.getElementsByClassName('copy-target');
  for( let target of targets ){
    const name = target.dataset.copyname;

    let curr = map1.get( name );
    if( curr == null ){
      curr = [ target ];
      map1.set( name, curr );
    }else{
      curr.push( target );
    }
  }

  //// 원본 copyname별로 맵에서 대상 꺼내서 내용 복사.
  const origins = document.getElementsByClassName('copy-origin');
  for( let origin of origins ){
    const name = origin.dataset.copyname;
    const targetArr = map1.get( name );
    if( targetArr === undefined ) continue;

    for( let target of targetArr ){
      target.innerHTML = origin.innerHTML;
    }
    map1.delete( name );
  }

  //// 원본이 없는 대상들 삭제.
  for( let targetArr of map1.values() ){
    for( let target of targetArr ){
      target.remove();
    }
  }
});
////// close-onclick-outside: 자신의 바깥을 클릭시 닫음
//// open 클래스 제거.
//// afterClose 동작 있으면 실행.
document.addEventListener('click', (e) => {
  const clicked = e.target;
  document.querySelectorAll('.close-onclick-outside.open').forEach(el => {
    if( !el.contains(clicked) ){
      el.classList.remove('open');
      if( el.afterClose != null ){
        el.afterClose();
      }
    }
  });
});
////// open 토글버튼
//// <button class="open-toggleBtn" data-opentarget="대상요소id">OPEN</button>
//// 대상 요소의 class 중 open을 넣거나 뺀다.
document.addEventListener('DOMContentLoaded', function () {
  document.querySelectorAll('.open-toggleBtn').forEach(btn => {
    btn.addEventListener('click', () => {
      const target = document.getElementById( btn.dataset.opentarget );
      target.classList.toggle('open');
    });
  });
});
</script>

</head>


<body id="[##_body_id_##]"><s_t3>
<script>
//
//// 블로그 주인 로그인 확인
document.body.classList.add('login-' + T.config.ROLE);

(function(){
  //// 리스트 페이지들 공통 body 클래스
  const body
    =  document.getElementById('tt-body-category')// 카테고리
    || document.getElementById('tt-body-tag')// 태그 모음, 태그 검색 결과
    || document.getElementById('tt-body-archive')// 보관함
    || document.getElementById('tt-body-search')// 검색 결과
    || document.getElementById('tt-body-index');// 홈화면, 공지사항 목록
  if( body != null ) body.classList.add('tt-body-list');
})();
////// 다크모드 - body
(function(){
  const isDark = document.getElementsByTagName('html')[0].dataset.theme === 'dark';
  if( isDark ){
    document.body.classList.add('theme-dark');
    document.body.classList.remove('theme-light');
  }else{
    document.body.classList.add('theme-light');
    document.body.classList.remove('theme-dark');
  }
})();
//
(function(){
  //// 설정값
  /*
   * settingForm
   * ├ input.settingCore 설정값 
   * │    태그 속성에 이 설정의 동작 지정.
   * │    name 설정 이름.
   * │    value 설정의 값.
   * │    onchange 설정의 효과.(각자 정의)
   * │    oninvalid 저장된 설정 없을시의 동작.(기본값으로 적용 등)
   * ├ .settingAction.toggle 논리값꼴 설정값. 클릭시 설정값 토글
   * ├ .settingAction.clickValue 설정값. 선택시 settingCore의 value로 적용
   * ├ (다른 타입의 설정은 onclick 직접 정의)
   * └ input[type="checkbox"].fixCbox 고정 체크박스설정값 있으면 자동으로 체크된다. 고정시 값 저장. 고정 해제시 저장된 값 삭제.
   * 　    oninvalid 체크 해제시의 동작.
   */
  document.addEventListener('DOMContentLoaded', function(){
    //// 모든 설정요소 가져오기
    const settingForms = document.getElementsByClassName('settingForm');
    for( let settingForm of settingForms ){

      const settingCore = settingForm.querySelector('.settingCore');
      if( settingCore == null ){
        console.error('settingForm에 name용 태그 없음', settingForm);
        continue;
      }

      //// 설정값 이름
      const settingName = settingCore.name;
      if( settingName == null || settingName == '' ){
        console.error('settingFormCore에 name 속성 없음', settingFormCore);
        continue;
      }
      settingCore.id = 'settingCore-' + settingName;

      //// 고정 체크 요소
      const fixCbox      = settingForm.querySelector('.fixCbox');
      const fixCboxLabel = settingForm.querySelector('.fixCboxLabel');
      if( fixCbox != null ){
        fixCbox.id = 'fixCbox-' + settingName;
        if( fixCboxLabel != null ){
          fixCboxLabel.setAttribute( 'for', fixCbox.id );
        }
      }
      fixCbox.addEventListener('change', ()=>{
        if( checkSettingFixCbox( settingName ) ){
          localStorage.setItem( settingName, settingCore.value );
        }else{
          localStorage.removeItem( settingName );
          fixCbox.dispatchEvent( new Event('invalid') );
        }
      });

      //// 설정값 불러오기
      const saved = localStorage.getItem( settingName );
      if( saved != null ){// 설정값 있음
        //// 고정 체크
        if( fixCbox != null ){
          fixCbox.checked = true;
        }
        //// 설정값 적용
        setSettingCore( settingCore, saved );
      }else{// 설정값 없음: 기본동작
        settingCore.dispatchEvent( new Event('invalid') );
      }

      //// 토글버튼
      const toggleBtns = settingForm.querySelectorAll('.settingAction.toggle');
      for( let toggleBtn of toggleBtns ){
        toggleBtn.addEventListener('click', ()=>{
          if( settingCore.value === 'true' ){
            setSettingValue0( settingCore, 'false', fixCbox );
          }else{
            setSettingValue0( settingCore, 'true', fixCbox );
          }
        });
      }

      //// 클릭하여 값 선택 버튼
      const clickValueBtns = settingForm.querySelectorAll('.settingAction.clickValue');
      for( let clickValueBtn of clickValueBtns ){
        clickValueBtn.addEventListener('click', ()=>{
          setSettingValue0( settingCore, clickValueBtn.value, fixCbox );
        });
      }
    }
  });
})();

function setSettingValue( settingName , value ) {
  const settingCore = document.getElementById( 'settingCore-' + settingName );
  const fixCbox     = document.getElementById( 'fixCbox-'     + settingName );
  setSettingValue0( settingCore, value, fixCbox );
}
function setSettingValue0( settingCore , value , fixCbox ) {
  setSettingCore( settingCore, value );
  if( fixCbox != null && fixCbox.checked ){
    localStorage.setItem( settingCore.name, value );
  }
}

function setSettingCore( settingCore , value ) {
  settingCore.value = value;
  settingCore.dispatchEvent( new Event('change') );
}

//// 설정값 가져오기
function getSettingValue( settingName ){
    return document.getElementById( 'settingCore-' + settingName ).value;
}
//// 설정 고정 체크 여부 확인
function checkSettingFixCbox( settingName ){
    return document.getElementById( 'fixCbox-' + settingName ).checked;
}
//// 설정 고정 체크
function setSettingFixCbox( settingName, checked ){
  const fixCbox = document.getElementById( 'fixCbox-' + settingName )
  fixCbox.checked = checked;
  fixCbox.dispatchEvent(new Event('change'));
}
</script>

<div id="backImgBox">
  <s_if_var_backImg_light><div class="backImg light [##_var_backImgType_light_##]" style="background-image: url('[##_var_backImg_light_##]');" ></div></s_if_var_backImg_light>
  <s_if_var_backImg_dark><div  class="backImg dark  [##_var_backImgType_dark_##]"  style="background-image: url('[##_var_backImg_dark_##]');"  ></div></s_if_var_backImg_dark>
</div><script>
  /// 스크롤 스타일만의 기능: 스크롤시 위치 조정, 리사이즈시 배경도 리사이즈(스크롤 길이 길 수록 작아짐).
  (function (){
    const domEl = document.documentElement;

    const backImgScroll = ( elToStyle , pos )=>{// pos: 'left'|'right'
      const scrollHeight = domEl.scrollHeight - domEl.clientHeight;
      if( scrollHeight <= 0 ) return;

      const scrollTop  = window.scrollY || domEl.scrollTop;
      const scrollPercent = ( scrollTop / scrollHeight ) * 100;

      elToStyle.style.backgroundPosition = pos + ' ' + (100-scrollPercent) + '%';
    };

    const backImgResize = ( elToStyle )=>{// 스크롤길이 길 수록 배경 작아지게 하고 싶은데 걍 y=1/x 하니까 생각보다 넘 작네. y=b/(x+a)로 간다.
      const a = 23;
      const x = domEl.scrollHeight / domEl.clientHeight;
      const y = (a+1)/2 / (x+a) + 0.5;// (1, 1); b=(a+1)/2
      elToStyle.style.backgroundSize = 'auto ' + (y*100) + '%';
    };

    const backImgScrollable_l = document.querySelector('#backImgBox .backImg.scroll.light');
    if( backImgScrollable_l != null ){
      const lr = backImgScrollable_l.classList.contains('left') ? 'left' : 'right';
      document.addEventListener('DOMContentLoaded', ()=>{
        backImgResize( backImgScrollable_l );
        backImgScroll( backImgScrollable_l, lr );
      });
      window.addEventListener('resize', ()=>{
        backImgResize( backImgScrollable_l );
        backImgScroll( backImgScrollable_l, lr );
      });
      window.addEventListener('scroll', ()=>{
        backImgScroll( backImgScrollable_l, lr );
      });
    }

    const backImgScrollable_d = document.querySelector('#backImgBox .backImg.scroll.dark');
    if( backImgScrollable_d != null ){
      const lr = backImgScrollable_d.classList.contains('left') ? 'left' : 'right';
      document.addEventListener('DOMContentLoaded', ()=>{
        backImgResize( backImgScrollable_d );
        backImgScroll( backImgScrollable_d, lr );

        window.addEventListener('resize', ()=>{
          backImgResize( backImgScrollable_d );
          backImgScroll( backImgScrollable_d, lr );
        });
        window.addEventListener('scroll', ()=>{
          backImgScroll( backImgScrollable_d, lr );
        });
      });
    }
  })();
</script>

<aside id="world2">
  <div class="upperbar">
    <button class="close" onclick="closeWorld2(); return false;">&#x2715;</button>
    <h1 class="pageTitle">탐색</h1>
  </div>
  <div class="content">

<div id="blogSearch">
  <form onsubmit="return false;"><s_search>
    <!-- search_onclick_submit 치환자가 s_search 태그 밖에서는 랜더링되지 않기 때문에 스크립트를 HTML 태그 안에 다 적어야 함. -->
    <input id="blogSearchInput" type="text"
      name="[##_search_name_##]"
      value="[##_search_text_##]"
      onkeypress="if( event.keyCode == 13 ){
        if( document.getElementById('blogSearchInput').value !== '' ){ [##_search_onclick_submit_##] }
      }"
      placeholder="글귀 검색"
      autocomplete=off
      style="
          vertical-align: middle;" />
    <button type="button"
      onclick="if( document.getElementById('blogSearchInput').value !== '' ){ [##_search_onclick_submit_##] }"
      style="
          font-size: 150%;
          vertical-align: middle;"
      >

<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19C12.8487 19 14.551 18.3729 15.9056 17.3199L19.2929 20.7071C19.6834 21.0976 20.3166 21.0976 20.7071 20.7071C21.0976 20.3166 21.0976 19.6834 20.7071 19.2929L17.3199 15.9056C18.3729 14.551 19 12.8487 19 11C19 6.58172 15.4183 3 11 3ZM5 11C5 7.68629 7.68629 5 11 5C14.3137 5 17 7.68629 17 11C17 14.3137 14.3137 17 11 17C7.68629 17 5 14.3137 5 11Z" fill="#FFFFFF"/>
</svg>

    </button>
  </s_search></form>
</div>
<div id="catsInWorld2">
  <h5 class="areaTitle"><button class="open-toggleBtn" data-opentarget="catsInWorld2">문서 분류 목록</button></h5>
  <div>[##_category_list_##]</div>
</div>
<div id="tagSearch">
  <form onsubmit="return false;">
    <input id="tagSearchInput" type="text"
      onfocus="tagSearchFocus(); return false;"
      oninput="tagSearchInputHandler( this.value ); return false;"
      placeholder="태그 검색"
      autocomplete=off
      style="
          vertical-align: middle;" />
  </form>
  <div class="result">
    <div class="msg _fontSmaller"></div>
    <div class="tagBoxBox">
      <div class="searchResult">
        <div class="tagBox-alpha"><!-- 가나다순; 검색어 시작 부분 일치 항목들만 표시. --></div>
        <hr>
        <div class="tagBox-contains"><!-- 검색어 시작 외 부분 일치 항목만 인기순 표시. -->
          <div><!-- tagcloud1 --></div>
          <div><!-- tagcloud2 --></div>
          <div><!-- tagcloud3 --></div>
          <div><!-- tagcloud4 --></div>
          <div><!-- tagcloud5 --></div>
        </div>
      </div>
      <h5 class="areaTitle">인기태그</h5>
      <div class="tagBox-pop"><!-- 인기태그만 검색어 관계없이 노출. --></div>
    </div>
  </div>
  <a class="toTagPage _fontSmaller" href="/tag">전체 태그 보러가기</a>
</div><script>
  const tagSearch = document.getElementById('tagSearch');
  const tagSearch_result = tagSearch.getElementsByClassName('result')[0];
  const tagSearch_msg    = tagSearch.getElementsByClassName('msg')[0];
  const tagBox_alpha     = tagSearch.getElementsByClassName('tagBox-alpha')[0];
  const tagBox_contains  = tagSearch.getElementsByClassName('tagBox-contains')[0];
  const tagBox_pop       = tagSearch.getElementsByClassName('tagBox-pop')[0];
  let tagAList = [];// a 태그들 (미부착)
  let tagSearch_timer = null;
  let tagSearch_fetched = false;

  function tagSearchFocus(){
    if( tagSearch_fetched ) return;

    tagSearch_msg.textContent = '태그 목록 불러오는 중.';
    fetch( T.config.DEFAULT_URL + '/tag', {
      method: 'GET'
    }).then(response => {
      if (!response.ok) throw new Error('HTTP error ' + response.status);
      return response.text();// HTML 텍스트
    }).then(htmlText => {
      const tagDoc = (new DOMParser()).parseFromString( htmlText, 'text/html' );// HTML 텍스트 → DOM
      const tagBox = tagDoc.getElementById('tagBox');
      if( tagBox == null ){
        throw new Error('불러온 문서에 tagBox 없음.');
      }
      tagAList = Array.from( tagBox.getElementsByTagName('a') );
      const tagBox_pop = tagSearch.getElementsByClassName('tagBox-pop')[0];

      for( let tagA of tagAList ){
        tagA = document.adoptNode( tagA );
        if( tagA.classList.contains('tagcloud1')
         || tagA.classList.contains('tagcloud2')
         || tagA.classList.contains('tagcloud3') ){
          tagBox_pop.appendChild( tagA.cloneNode(true) );
        }
      }

      tagAList.sort((a, b) => a.textContent.localeCompare( b.textContent, 'ko' ));

      tagSearch_fetched = true;
      tagSearch_result.classList.add('fetched');
      tagSearch_search(
        document.getElementById('tagSearchInput').value
      );// 기다리는 동안 벌써 검색어를 입력했을 수도 있으니까 함 실행해줘야지.
    }).catch(error => {
      console.error(error);
      tagSearch_msg.textContent = '태그 목록 불러오기 실패';
    });
  }

  function tagSearchInputHandler( searchword ){
    searchword = searchword.trim();
    if( tagSearch_timer != null ) clearTimeout( tagSearch_timer );// 즉각 동작 안 하고 0.1초 뜸.(빠른 타자 기다림)

    tagSearch_timer = setTimeout( tagSearch_search, 100, searchword );
  }

  function tagSearch_search( searchword ){
    //// tagBox-alpha 에 전체 태그 있다. 검색어에 따라 클래스로 노출 여부 조작.
    //// tagBox-alpha 에 미해당 항목들 중 tagBox-contains 해당 것들을 복사하여 넣음.

    //// 초기화
    tagBox_alpha.innerHTML = '';
    for( let tagBox_contains_n of tagBox_contains.children ){
      tagBox_contains_n.innerHTML = '';
    }

    if( searchword === '' ){
      tagSearch_msg.textContent = `전체 태그 ${tagAList.length}개`;
      return;
    }

    searchword = searchword.toLowerCase();
    let count = 0;
    for( let tagA of tagAList ){
      const tagText = tagA.textContent.toLowerCase();
      if( tagText.includes( searchword ) ){
        count += 1;
        const clone = tagA.cloneNode(true);
        clone.innerHTML = clone.innerHTML.toLowerCase()
          .replace( searchword, `<span class="match">${searchword}</span>` );// 검색어 일치 부분 강조
        if( tagText.startsWith( searchword ) ){// 검색어 시작부분 일치
          tagBox_alpha.appendChild( clone );
        }
        // 그밖에 검색어 포함
        else if( clone.classList.contains('tagcloud1') )
          tagBox_contains.children[0].appendChild( clone );
        else if( clone.classList.contains('tagcloud2') )
          tagBox_contains.children[1].appendChild( clone );
        else if( clone.classList.contains('tagcloud3') )
          tagBox_contains.children[2].appendChild( clone );
        else if( clone.classList.contains('tagcloud4') )
          tagBox_contains.children[3].appendChild( clone );
        else if( clone.classList.contains('tagcloud5') )
          tagBox_contains.children[4].appendChild( clone );
      }
    }
    if( count > 0){
      tagSearch_msg.textContent = `검색된 태그 ${count}개`;
    }else{
      tagSearch_msg.textContent = '그 부분을 포함한 태그가 없습니다.';
    }
  }
</script>

  </div>
</aside><script>
  const world2 = document.getElementById('world2');

  function openWorld2(){
    document.body.classList.add('world2');
    document.getElementById('blogSearchInput').focus();
  }
  function closeWorld2(){
    document.body.classList.remove('world2');
  }
    //// ESC 누르면 world2 닫기
  document.addEventListener('keydown', function( e ){
    if( e.key === 'Escape' ){
      closeWorld2()
    }
  });
</script>

<!--# 헤더 -->
<header class="home-none-[##_var_hideAtHome_Header_##]">
  <a class="alt title" href="/">[##_title_##]</a>

  <div class="namecard">
    <div class="box1">
      <div class="imgBox">
        <div class="blogImgBack"><!-- 이것은 분명 시각적인 버그이다…. 요소를 둥글게 하면 본체랑 둘레선 사이에 틈이 있어서, 그 틈으로 부모 요소의 배경이 보인단 말이야? --></div>
        <img class="blogImg" alt="블로그 프사" src="[##_image_##]">
      </div>
    </div>
    <div class="box2 _textLeft">
      <h1 class="title">[##_title_##]</h1>
      <div class="blogger _fontLarger">[##_blogger_##]</div>
      <p>[##_desc_##]</p>
      <div class="blogLinks _textRight">
        <s_link_rep
          ><a href="[##_link_url_##]" target="_blank">[##_link_site_##]</a
        ></s_link_rep><a href="[##_rss_url_##]">RSS</a>
      </div>
    </div>
  </div>
</header>

<div id="totopBox" style="
    position: fixed;
    top: 0px;
    right: 100px;
    overflow: hidden;
    width: 26px;
    height: 0px;
    transition: height 0.3s;
    z-index: 50;
  ">
  <svg onclick="window.scrollTo(0, 0);"
      width="26px"
      height="40px"
      style="cursor: pointer;">
    <polygon points="0,0 26,0 26,40 13,27 0,40" fill="var(--pointCol)" fill-opacity="0.6 " />
  </svg>
</div>

<div id="mainV">

  <!-- mainHBox-mainH 이중으로 된 이유: (스타일) mainHBox: 좌우 사이드바 상태에 따라 좌우 여백 / mainH: Box 안에서 가운데로 -->
  <div id="mainHBox"><div id="mainH">

<div id="upperbar">
<div id="blogMenu" class="_textShadowBackcol">
  [##_blog_menu_##]

  <button id="world2-openBtn"
      onclick="openWorld2(); return false;"
  >

<svg width="32px" height="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19C12.8487 19 14.551 18.3729 15.9056 17.3199L19.2929 20.7071C19.6834 21.0976 20.3166 21.0976 20.7071 20.7071C21.0976 20.3166 21.0976 19.6834 20.7071 19.2929L17.3199 15.9056C18.3729 14.551 19 12.8487 19 11C19 6.58172 15.4183 3 11 3ZM5 11C5 7.68629 7.68629 5 11 5C14.3137 5 17 7.68629 17 11C17 14.3137 14.3137 17 11 17C7.68629 17 5 14.3137 5 11Z" fill="currentColor"/>
</svg>

  </button>
</div><script>(function () {
  const menuEl = document.querySelector('#blogMenu > ul');
  if( menuEl == null ) return;

  // 티스토리 치환자 blog_menu 렌더링 결과에 공백 텍스트가 껴있는데 삭제.
  for( const node of Array.from(menuEl.childNodes) ){
    if( node.nodeType !== Node.ELEMENT_NODE ){
      menuEl.removeChild( node );
    }
  }

  //// 로그인 버튼
  if( T.config.ROLE === 'guest' ){// 비로그인상태
    const li_login = document.createElement('li');
    li_login.classList.add('t_menu');
    const anchor = document.createElement('a');
    anchor.innerText = '로그인';
    anchor.href = T.config.LOGIN_URL;
    li_login.appendChild( anchor );
    menuEl.appendChild(li_login);
  }

  //// 관리자 메뉴 추가
  if( T.config.ROLE === 'owner' ){
    const li_manage = document.createElement('li');
    const li_write = document.createElement('li');
    li_manage.classList.add('t_menu_manage');
    li_write.classList.add('t_menu_manage');
    li_manage.innerHTML = '<a href="/manage/posts" target="_blank">관리</a>';
    li_write.innerHTML  = '<a href="/manage/post"  target="_blank">글쓰기</a>';
    menuEl.appendChild(li_manage);
    menuEl.appendChild(li_write);
  }

  //// 검색버튼을 ul 안에
  const li_blogSearch = document.createElement('li');
  li_blogSearch.appendChild( document.getElementById('world2-openBtn') );
  menuEl.appendChild(li_blogSearch);
})()</script>
</div>

<s_rct_notice><!--### 최근공지 -->
  <div id="recentNotice" class="recentNotice home-none-1">
    <div id="recentNoticeListBox" class="noticeBoxStyle" style="position: relative">
      <svg class="pushpin" width="23px" height="45px">
  <polygon points="0,0 23,0 19,25 23,30 0,30 4,25" fill="var(--pointCol)"/>
  <polygon points="10,30 13,30 13,45 10,45" fill="var(--baseTextCol)"/>
</svg>
      <ul id="recentNoticeList">
        <s_rct_notice_rep><li>
          <a href="[##_notice_rep_link_##]"><span class="prefix">[공지]</span> [##_notice_rep_title_##]</a>
        </li></s_rct_notice_rep>
      </ul>
    </div>
  </div><script type="text/javascript">
    const rctNoticeList = document.querySelectorAll('#recentNoticeList li');

    (function(){
      if( rctNoticeList.length === 0 ){
        //// 최근공지 없으면 최근공지 상자 삭제
        document.getElementById('recentNotice').remove();
      }else{
        rctNoticeList[0].classList.add('curr');
        if( rctNoticeList.length >= 2 ){
          setInterval(showNextItem, 5000);
        }
      }
    })();

    function showNextItem() {
      const prev = document.querySelector('#recentNoticeList li.prev');
      if( prev != null ){
        prev.classList.remove('prev');
      }
      for( let index=0; index < rctNoticeList.length; index+=1 ){
        const item = rctNoticeList[index];
        if( item.classList.contains('curr') ){
          item.classList.remove('curr');
          item.classList.add('prev');
          const nextIndex = ( index+1 ) % rctNoticeList.length;
          rctNoticeList[nextIndex].classList.add('curr');
          break;
        }
      }
    }
  </script>
</s_rct_notice>

    <!--### 메인 -->
    <main id="main">
<s_cover_group><div id="homecover"><!--◆ 홈 커버 -->

<s_rct_notice>
  <div id="recentNotice-home" class="recentNotice" style="position: relative">
    <svg class="pushpin" width="23px" height="45px">
  <polygon points="0,0 23,0 19,25 23,30 0,30 4,25" fill="var(--pointCol)"/>
  <polygon points="10,30 13,30 13,45 10,45" fill="var(--baseTextCol)"/>
</svg>
    <ul>
      <s_rct_notice_rep><li class="noticeBoxStyle">
        <a href="[##_notice_rep_link_##]"><span class="prefix">[공지]</span> [##_notice_rep_title_##]</a>
      </li></s_rct_notice_rep>
    </ul>
  </div><script type="text/javascript">
    (function(){
      const rctNoticeList = document.querySelectorAll('#recentNotice-home li');

      if( rctNoticeList.length === 0 ){
        //// 최근공지 없으면 최근공지 상자 삭제
        document.getElementById('recentNotice-home').remove();
      }
    })();
  </script>
</s_rct_notice>

  <s_cover_rep>

  <s_cover name="menubar">
  <section class="homecoverSection menubar">

    <div class="homecover menubar">

  <nav>
    <ul class="_textShadowBackcol">
      <s_cover_item><li>
        <a href="[##_cover_item_url_##]">[##_cover_item_title_##]</a>
      </li></s_cover_item>
    </ul>
  </nav>

    </div>
    <s_cover_url><a class="more" href="[##_cover_url_##]">더보기</a></s_cover_url>
  </section>
</s_cover>

  <s_cover name="train">
  <section class="homecoverSection train">
<h1 class="sectionTitle"><span>[##_cover_title_##]</span></h1>
    <div class="homecover train">

<ul class="postList">
  <s_cover_item>
    <s_cover_item_article_info>
      <li>
        <div class="_backColSlightly"></div>
        <s_cover_item_thumbnail>
          <div class="_backColSlightly" style="
              background-color: unset;
              background-image: url('[##_cover_item_thumbnail_##]');
              background-size: cover;
              background-position: center;
          "></div>
        </s_cover_item_thumbnail>
        <a href="[##_cover_item_url_##]" style="display: block"><article class="postListItem">
          <div class="itemHead">
            <h2 class="title _textCenter _textShadowBackcol">[##_cover_item_title_##]</h2>
          </div>
          <div class="itemBody">
            <span class="content">[##_cover_item_summary_##]</span>
            <span class="date">[##_cover_item_simple_date_##].</span>
          </div>
        </article>
      </a></li>
    </s_cover_item_article_info>

    <s_cover_item_not_article_info>
      <li>
        <div class="_backColSlightly"></div>
        <s_cover_item_thumbnail>
          <div class="_backColSlightly" style="
              background-color: unset;
              background-image: url('[##_cover_item_thumbnail_##]');
              background-size: cover;
              background-position: center;
          "></div>
        </s_cover_item_thumbnail>
        <a href="[##_cover_item_url_##]" style="display: block"><article class="postListItem">
          <div class="itemHead">
            <h2 class="title _textCenter _textShadowBackcol">[##_cover_item_title_##]</h2>
          </div>
          <div class="itemBody">
            <span class="content">[##_cover_item_summary_##]</span>
          </div>
        </article>
      </a></li>
    </s_cover_item_not_article_info>
  </s_cover_item>
</ul>

    </div>
    <s_cover_url><a class="more" href="[##_cover_url_##]">더보기</a></s_cover_url>
  </section>
</s_cover>

  <s_cover name="card">
  <section class="homecoverSection card">
<h1 class="sectionTitle"><span>[##_cover_title_##]</span></h1>
    <div class="homecover card">

TODO HOMECOVER_CARD

    </div>
    <s_cover_url><a class="more" href="[##_cover_url_##]">더보기</a></s_cover_url>
  </section>
</s_cover>

  <s_cover name="bookcover">
  <section class="homecoverSection bookcover">
<h1 class="sectionTitle"><span>[##_cover_title_##]</span></h1>
    <div class="homecover bookcover">

TODO HOMECOVER_BOOKCOVER

    </div>
    <s_cover_url><a class="more" href="[##_cover_url_##]">더보기</a></s_cover_url>
  </section>
</s_cover>

  <s_cover name="widepage">
  <section class="homecoverSection widepage">
<h1 class="sectionTitle"><span>[##_cover_title_##]</span></h1>
    <div class="homecover widepage">

TODO HOMECOVER_WIDEPAGE

    </div>
    <s_cover_url><a class="more" href="[##_cover_url_##]">더보기</a></s_cover_url>
  </section>
</s_cover>

  </s_cover_rep>
</div></s_cover_group>

<s_notice_rep><!--◆ 공지 페이지 -->
  <s_index_article_rep><div class="noticePost noticeBoxStyle">
    <a href="[##_notice_rep_link_##]">[##_notice_rep_title_##]</a>
  </div></s_index_article_rep>

  <s_permalink_article_rep><div>


<!--▶ 게시글 -->
<article id="postPagePost" class="post">
  <div class="head">
    <div class="titleBox">
      <!-- 썸네일 -->
      <s_notice_rep_thumbnail><div class="decoBox">
        <!-- 대표 이미지 -->
        <div>
          <img loading="lazy" class="image" alt="게시글 썸네일" src="[##_notice_rep_thumbnail_url_##]">
        </div>
        <!-- 꾸밈테이프 -->
        <span class="tape tape1"></span>
        <span class="tape tape2"></span>
      </div></s_notice_rep_thumbnail>
      <!-- 게시글 제목 -->
      <h1 class="title pageTitle">[##_notice_rep_title_##]</h1>
    </div>
    <!-- 게시글 정보 -->
    <div class="info">
      <div class="authorBox">
        <span class="date">[##_notice_rep_simple_date_##]</span><span>에</span>
        <span class="author userName">[##_notice_rep_author_##]</span><span>이가
          <s_ad_div><span class="status">[##_s_ad_s1_label_##]</span>적으로</s_ad_div>
        씀.</span>
      </div>
      <div class="linkBox">
        주소: <span class="linkStr _fontSmaller">[##_article_rep_link_##]</span>
        <button class="link-copy _fontLarger"
            data-link="[##_article_rep_link_##]"
            onclick="
              const linkStr = this.dataset.link;
              navigator.clipboard.writeText( thisOrigin + linkStr );
              this.parentNode.getElementsByClassName('msg')[0].innerText = '복사했습니다.';
              return false;"
        >

<svg width="1em" height="1em" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 115.77 122.88" xml:space="preserve"><g><path class="st0" d="M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z" fill="currentColor"/></g></svg>

        </button>
        <p class="msg"></p>
      </div>
      <s_tag_label><div class="tags">[##_tag_label_rep_##]</div></s_tag_label>
    </div>
  </div>

  <!-- 기능 -->
  <div class="func">
    <a class="thickBtn category" href="/notice">공지사항</a>
    <s_ad_div>
      <a class="thickBtn" href="[##_s_ad_m_link_##]">고쳐쓰기</a>
      <a class="thickBtn" href="#" onclick="if( checkDeletePost() ){[##_s_ad_d_onclick_##]}">지우기</a>
    </s_ad_div>
  </div>

  <!-- 게시글 본문 -->
  <div id="main4" class="bonmun">
    <div class="_backColSlightly"></div>
    [##_notice_rep_desc_##]
  </div>
</article>


  <hr class="areaSeparator">

<s_rp><!--▶ 댓글 --><div id="commentSec" class="postPage">
  <h1 class="areaTitle">댓글</h1>


<s_rp_container><!-- 댓글 목록 --><ul class="comment1List commentList">

  <s_rp_rep><li id="[##_rp_rep_id_##]">
    <div class="comment comment1 [##_rp_rep_class_##] _backCol">
      <div class="areaImg">
        <img loading="lazy" class="propic" alt="작성자 프사" src="[##_rp_rep_logo_##]">
      </div>
      <div class="area1">
        <span class="writer">[##_rp_rep_name_##]</span>
      </div>
      <div class="area2">
        <span class="content">[##_rp_rep_desc_##]</span>
      </div>
      <div class="area3">
        <span class="date">[##_rp_rep_date_##]</span
        ><button onclick="[##_rp_rep_onclick_reply_##]">대꾸</button
        ><button onclick="[##_rp_rep_onclick_delete_##]">&#x2715;</button>
      </div>
    </div>
    <s_rp2_container><!-- 답글 목록 --><ul class="comment2List commentList">
      <s_rp2_rep><li id="[##_rp_rep_id_##]">
        <div class="comment comment2 [##_rp_rep_class_##] _backCol">
          <span class="tape"></span>
          <div class="areaImg">
            <img loading="lazy" class="propic" alt="작성자 프사" src="[##_rp_rep_logo_##]">
          </div>
          <div class="area1">
            <span class="writer">[##_rp_rep_name_##]</span>
          </div>
          <div class="area2">
            <span class="content">[##_rp_rep_desc_##]</span>
          </div>
          <div class="area3">
            <span class="date">[##_rp_rep_date_##]</span>
            <button onclick="[##_rp_rep_onclick_delete_##]">&#x2715;</button>
          </div>
        </div>
      </li></s_rp2_rep>
    </ul></s_rp2_container>
  </li></s_rp_rep>
</ul></s_rp_container>

  <p class="listMsg"></p>

<!-- 댓글 입력폼 -->
<div class="formBox"><s_rp_input_form>
  <s_rp_guest><p class="guest">
      <label>이름:
        <input type="text"     id="commentInput_name"     class="softInput" name="[##_rp_input_name_##]"     value="[##_guest_name_##]"          size="15" />
      </label>
      <label>
        비밀번호:
        <input type="password" id="commentInput_password" class="softInput" name="[##_rp_input_password_##]" value="[##_rp_password_##]" size="12" maxlength="8" />
      </label>
      <label>
        홈페이지:
        <input type="text"     id="commentInput_homepage" class="softInput" name="[##_rp_input_homepage_##]" value="[##_guest_homepage_##]"      size="24" />
      </label>
  </p></s_rp_guest>
  <textarea 
      class="commentInput thickInput" 
      name="[##_rp_input_comment_##]" 
      rows="5" cols="30" 
      placeholder="편지 한 장 쓸 때마다 두 번 세 번 읽어보며 이 편지가 번화가에 떨어져 나의 원수가 펴보더라도 내가 죄를 얻지 않을가를 생각하며 써야 하고; 또한 이 편지가 수백 년동안 전해져 안목있는 많은 사람들의 눈에 띄더라도 조롱받지 않을 만한가를 생각해본 뒤에야 비로소 봉해야 한다. -정약용"></textarea>
  <div class="submitBox">
    <label>
      <input type="checkbox" name="[##_rp_input_is_secret_##]" class="checkbox" />
      귓속말로
    </label>
    <input 
        type="submit" 
        class="commentBtn thickBtn" 
        value="라고 한마디 하기" 
        onclick="[##_rp_onclick_submit_##]" />
  </div>
</s_rp_input_form></div>


  <p class="formMsg"></p>

  <script type="text/javascript">
    //// 댓글목록 비었으면 표시
    if( document.querySelector('#commentSec .commentList').childElementCount === 0 ){
      document.querySelector('#commentSec .listMsg').innerText = '댓글이 없습니다.';
    }
    if( document.querySelector('#commentSec .formBox').childElementCount === 0 ){
      document.querySelector('#commentSec .formMsg').innerText = '댓글 비허용 글입니다.';
    }
  </script>
</div></s_rp>

  </div></s_permalink_article_rep>
</s_notice_rep>

<s_article_rep>
<!-- index.xml의 showListLock 값이 0(노출)이면 나오는 옵션에서 '내용'이 있는 옵션 선택시 나타남.
홈 설정 커버 말고 최신글인 경우는 상관 없이 다 나타남.
-->
<s_index_article_rep></s_index_article_rep>
<s_permalink_article_rep>
<s_article_protected>
  <div class="protectedPost">
    <h1 class="title pageTitle">[##_article_rep_title_##]</h1>
    <div>
      <p class="_textCenter">알맞은 비밀번호를 적어내셔야 글이 보입니다.</p>
    </div>
    <div class="protectedPassForm">
      <input type="password" class="thickInput" maxlength="16" id="[##_article_password_##]" name="[##_article_password_##]" value="" placeholder="비밀번호" onkeydown="if (event.keyCode == 13)[##_article_dissolve_##]" />
      <input type="button"   class="thickBtn submit" value="내기" onclick="[##_article_dissolve_##]" />
    </div>
  </div>
</s_article_protected>

<!--◆ 글보기 페이지 -->


<!--▶ 게시글 -->
<article id="postPagePost" class="post">
  <div class="head">
    <div class="titleBox">
      <!-- 썸네일 -->
      <s_article_rep_thumbnail><div class="decoBox">
        <!-- 대표 이미지 -->
        <div>
          <img loading="lazy" class="image" alt="게시글 썸네일" src="[##_article_rep_thumbnail_url_##]">
        </div>
        <!-- 꾸밈테이프 -->
        <span class="tape tape1"></span>
        <span class="tape tape2"></span>
      </div></s_article_rep_thumbnail>
      <!-- 게시글 제목 -->
      <h1 class="title pageTitle">[##_article_rep_title_##]</h1>
    </div>
    <!-- 게시글 정보 -->
    <div class="info">
      <div class="authorBox">
        <span class="date">[##_article_rep_simple_date_##]</span><span>에</span>
        <span class="author userName">[##_article_rep_author_##]</span><span>이가
          <s_ad_div><span class="status">[##_s_ad_s1_label_##]</span>적으로</s_ad_div>
        씀.</span>
      </div>
      <div class="linkBox">
        주소: <span class="linkStr _fontSmaller">[##_article_rep_link_##]</span>
        <button class="link-copy _fontLarger"
            data-link="[##_article_rep_link_##]"
            onclick="
              const linkStr = this.dataset.link;
              navigator.clipboard.writeText( thisOrigin + linkStr );
              this.parentNode.getElementsByClassName('msg')[0].innerText = '복사했습니다.';
              return false;"
        >

<svg width="1em" height="1em" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 115.77 122.88" xml:space="preserve"><g><path class="st0" d="M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z" fill="currentColor"/></g></svg>

        </button>
        <p class="msg"></p>
      </div>
      <s_tag_label><div class="tags">[##_tag_label_rep_##]</div></s_tag_label>
    </div>
  </div>

  <!-- 기능 -->
  <div class="func">
    <a class="thickBtn category" href="[##_article_rep_category_link_##]">[##_article_rep_category_##]</a>
    <s_ad_div>
      <a class="thickBtn" href="[##_s_ad_m_link_##]">고쳐쓰기</a>
      <a class="thickBtn" href="#" onclick="if( checkDeletePost() ){[##_s_ad_d_onclick_##]}">지우기</a>
    </s_ad_div>
  </div>

  <!-- 게시글 본문 -->
  <div id="main4" class="bonmun">
    <div class="_backColSlightly"></div>
    [##_article_rep_desc_##]
  </div>
</article>


  <!-- 여기에 자동으로 namecard 생긴다. -->

<s_rp><!--▶ 댓글 --><div id="commentSec" class="postPage">
  <h1 class="areaTitle">댓글</h1>


<s_rp_container><!-- 댓글 목록 --><ul class="comment1List commentList">

  <s_rp_rep><li id="[##_rp_rep_id_##]">
    <div class="comment comment1 [##_rp_rep_class_##] _backCol">
      <div class="areaImg">
        <img loading="lazy" class="propic" alt="작성자 프사" src="[##_rp_rep_logo_##]">
      </div>
      <div class="area1">
        <span class="writer">[##_rp_rep_name_##]</span>
      </div>
      <div class="area2">
        <span class="content">[##_rp_rep_desc_##]</span>
      </div>
      <div class="area3">
        <span class="date">[##_rp_rep_date_##]</span
        ><button onclick="[##_rp_rep_onclick_reply_##]">대꾸</button
        ><button onclick="[##_rp_rep_onclick_delete_##]">&#x2715;</button>
      </div>
    </div>
    <s_rp2_container><!-- 답글 목록 --><ul class="comment2List commentList">
      <s_rp2_rep><li id="[##_rp_rep_id_##]">
        <div class="comment comment2 [##_rp_rep_class_##] _backCol">
          <span class="tape"></span>
          <div class="areaImg">
            <img loading="lazy" class="propic" alt="작성자 프사" src="[##_rp_rep_logo_##]">
          </div>
          <div class="area1">
            <span class="writer">[##_rp_rep_name_##]</span>
          </div>
          <div class="area2">
            <span class="content">[##_rp_rep_desc_##]</span>
          </div>
          <div class="area3">
            <span class="date">[##_rp_rep_date_##]</span>
            <button onclick="[##_rp_rep_onclick_delete_##]">&#x2715;</button>
          </div>
        </div>
      </li></s_rp2_rep>
    </ul></s_rp2_container>
  </li></s_rp_rep>
</ul></s_rp_container>

  <p class="listMsg"></p>

<!-- 댓글 입력폼 -->
<div class="formBox"><s_rp_input_form>
  <s_rp_guest><p class="guest">
      <label>이름:
        <input type="text"     id="commentInput_name"     class="softInput" name="[##_rp_input_name_##]"     value="[##_guest_name_##]"          size="15" />
      </label>
      <label>
        비밀번호:
        <input type="password" id="commentInput_password" class="softInput" name="[##_rp_input_password_##]" value="[##_rp_password_##]" size="12" maxlength="8" />
      </label>
      <label>
        홈페이지:
        <input type="text"     id="commentInput_homepage" class="softInput" name="[##_rp_input_homepage_##]" value="[##_guest_homepage_##]"      size="24" />
      </label>
  </p></s_rp_guest>
  <textarea 
      class="commentInput thickInput" 
      name="[##_rp_input_comment_##]" 
      rows="5" cols="30" 
      placeholder="편지 한 장 쓸 때마다 두 번 세 번 읽어보며 이 편지가 번화가에 떨어져 나의 원수가 펴보더라도 내가 죄를 얻지 않을가를 생각하며 써야 하고; 또한 이 편지가 수백 년동안 전해져 안목있는 많은 사람들의 눈에 띄더라도 조롱받지 않을 만한가를 생각해본 뒤에야 비로소 봉해야 한다. -정약용"></textarea>
  <div class="submitBox">
    <label>
      <input type="checkbox" name="[##_rp_input_is_secret_##]" class="checkbox" />
      귓속말로
    </label>
    <input 
        type="submit" 
        class="commentBtn thickBtn" 
        value="라고 한마디 하기" 
        onclick="[##_rp_onclick_submit_##]" />
  </div>
</s_rp_input_form></div>


  <p class="formMsg"></p>

  <script type="text/javascript">
    //// 댓글목록 비었으면 표시
    if( document.querySelector('#commentSec .commentList').childElementCount === 0 ){
      document.querySelector('#commentSec .listMsg').innerText = '댓글이 없습니다.';
    }
    if( document.querySelector('#commentSec .formBox').childElementCount === 0 ){
      document.querySelector('#commentSec .formMsg').innerText = '댓글 비허용 글입니다.';
    }
  </script>
</div></s_rp>

  <hr class="areaSeparator">

<!--▶ 카테고리 다른 글 -->
<s_article_related><div class="relatedSec">
  <h1 class="areaTitle">카테고리 다른 글</h1>
  <ul class="relatedList">
    <s_article_related_rep><li class="_backCol">
      <a href="[##_article_related_rep_link_##]">[##_article_related_rep_title_##]</a>
    </li></s_article_related_rep>
  </ul>
</div></s_article_related>

  <script>(function (){
    //// namecard 밑에 hr 추가 (html 편집으로는 namecard 위치를 커스텀 불가함.)
    const hrUnderNamecard = document.createElement('hr');
    hrUnderNamecard.classList.add('areaSeparator');
    const beforeThis = document.getElementById('commentSec').parentNode;
    document.getElementById('main')
      .insertBefore( hrUnderNamecard, beforeThis );
  })();</script>
</s_permalink_article_rep>
</s_article_rep>

<s_list><!--◆ 글목록 페이지 -->

<!--▶ 머리 부분 -->
<div id="listHead">
  <!--페이지 제목 등 -->
  <div class="titleBox">
    <h1 class="title pageTitle">[##_list_conform_##]</h1>
    <div class="subtitle">
      <span id="listPage-head-pagetype" class="pagetype"></span>
      <span class="postNum">[##_list_count_##]</span>개
      <script>(function(){ // 페이지별 문구 다르게
        const a = document.getElementById('listPage-head-pagetype')
        if( document.getElementById('tt-body-category') != null )
          a.innerText = '카테고리의 게시글 '
        if( document.getElementById('tt-body-archive') != null )
          a.innerText = '보관함의 게시글 '
        if( document.getElementById('tt-body-tag') != null )
          a.innerText = '태그가 있는 게시글 '
        if( document.getElementById('tt-body-search') != null )
          a.innerText = '검색 결과 '
        if( document.getElementById('tt-body-index') != null )
          a.innerText = '게시글 수 '
      })()</script>
    </div>
  </div>
  <!-- 페이지 설명 등 -->
  <div class="decoBox">
    <!-- 대표 이미지 -->
    <div>
      <s_list_image><img loading="lazy" class="image" alt="대표 이미지" src="[##_list_image_##]"></s_list_image>
    </div>
    <!-- 설명 -->
    <p class="description">[##_list_description_##]</p>
    <!-- 꾸밈테이프 -->
    <span class="tape tape1"></span>
    <span class="tape tape2"></span>
  </div>
  <script>(function(){
    //// 썸네일 & 설명 둘다 없으면 꾸밈상자 삭제
    if( document.querySelector('.decoBox .image') == null 
      && document.querySelector('.decoBox .description').innerHTML == '' ){
      document.querySelector('.decoBox').remove()
    }
  })()</script>
</div>

  <hr class="areaSeparator">

  <!--▶ 상단 광고 -->
  <div id="upper">[##_revenue_list_upper_##]</div>

  <!--▶ 상단 페이징 -->
  <!-- 스크립트로 페이징 요소 복사해서 여기에도 붙이기 … 해당 스크립트는 main 맨아래쪽 페이징 원본요소 아래 -->
  <div id="pagingCopy" class="paging copy-target" data-copyname="paging"></div>



<!--▶ 목록 -->
<section>

<div class="settingForm"><!-- 보기형식 변경 -->
  <input type="hidden" class="settingCore" name="listStyle" value="[##_list_style_##]" onchange="onchangeListStyle(this)" />
  <menu id="listStyleBtns">
    <span>보임새: </span>

    <button class="settingAction clickValue softBtn" value="train"
  ><div style="
  display: block;
  position: relative;
  width: 20px;
  height: 20px;
">
  <span style="display: block; position: absolute; box-sizing: border-box; width: 20px; height: 8px; top:    0px; left:  0px; border: 2px solid grey; border-top-width:    0px; background-color: var(--backCol);"></span>
  <span style="display: block; position: absolute; box-sizing: border-box; width: 20px; height: 8px; bottom: 0px; left:  0px; border: 2px solid grey; border-bottom-width: 0px; background-color: var(--backCol);"></span>
</div></button>

    <button class="settingAction clickValue softBtn" value="album"
  ><div style="
  display: block;
  position: relative;
  width: 20px;
  height: 20px;
">
  <span style="display: block; position: absolute; width: 7px; height: 7px; top:    0px; left:  0px; border: 1px solid grey; background-color: var(--backCol);"></span>
  <span style="display: block; position: absolute; width: 7px; height: 7px; top:    0px; right: 0px; border: 1px solid grey; background-color: var(--backCol);"></span>
  <span style="display: block; position: absolute; width: 7px; height: 7px; bottom: 0px; left:  0px; border: 1px solid grey; background-color: var(--backCol);"></span>
  <span style="display: block; position: absolute; width: 7px; height: 7px; bottom: 0px; right: 0px; border: 1px solid grey; background-color: var(--backCol);"></span>
</div></button>

    <button class="settingAction clickValue softBtn" value="card"
  ><div style="
  display: block;
  position: relative;
  width: 20px;
  height: 20px;
">
  <span style="display: block; position: absolute; left:  2px; top:  3px; box-sizing: border-box; width: 16px; height: 17px; border-width: 1px;     background-color: var(--backCol);  border-color: grey;"></span>
  <span style="display: block; position: absolute; left:  5px; top:  7px; box-sizing: border-box; width: 10px; height:  8px;                        background-color: grey;            border-color: grey;"></span>
  <span style="display: block; position: absolute; left:  8px; top:  0px; box-sizing: border-box; width:  4px; height:  6px; border-width: 1px;     background-color: #FFF4;           border-color: #888a;"></span>
</div></button>

    <button class="settingAction clickValue softBtn" value="postit"
  ><div style="
  display: block;
  position: relative;
  width: 20px;
  height: 20px;
">
  <span style="display: block; position: absolute; left:  0px; top:  0px; box-sizing: border-box; width: 100%; height: 5px; background-color: var(--backCol); border-bottom: 1px solid #888a; border-left: 2px solid #d52;"></span>
  <span style="display: block; position: absolute; left:  0px; top:  7px; box-sizing: border-box; width: 100%; height: 5px; background-color: var(--backCol); border-bottom: 1px solid #888a; border-left: 2px solid #7c2;"></span>
  <span style="display: block; position: absolute; left:  0px; top: 14px; box-sizing: border-box; width: 100%; height: 5px; background-color: var(--backCol); border-bottom: 1px solid #888a; border-left: 2px solid #38d;"></span>
</div></button>

    <button class="settingAction clickValue softBtn" value="detailed"
  ><div style="
  display: block;
  position: relative;
  width: 20px;
  height: 20px;
">
  <span style="display: block; position: absolute; left:  0px; top:  1px; width: 100%; height: 2px; background-color: grey;"></span>
  <span style="display: block; position: absolute; left:  0px; top:  5px; width: 100%; height: 2px; background-color: grey;"></span>
  <span style="display: block; position: absolute; left:  0px; top:  9px; width: 100%; height: 2px; background-color: grey;"></span>
  <span style="display: block; position: absolute; left:  0px; top: 13px; width: 100%; height: 2px; background-color: grey;"></span>
  <span style="display: block; position: absolute; left:  0px; top: 17px; width: 100%; height: 2px; background-color: grey;"></span>
</div></button>

    <input type="checkbox" class="fixCbox" /><label class="fixCboxLabel">굄</label>
    <script>
      function onchangeListStyle( settingCore ){
        setListStyle( settingCore.value );
      }

      //// 보임새 설정
      function setListStyle( style ){
        document.getElementById('postList').className = style;
      }
    </script>
  </menu>
</div>

<s_list_empty><div id="postList-empty">준비중입니다.</div></s_list_empty>

  <ul id="postList" class="[##_list_style_##]">
<s_list_rep><li><a class="postAnchor" href="[##_list_rep_link_##]" style="display: block"><article class="postListItem">
  <div class="thumbnail">
    <s_list_rep_thumbnail><img loading="lazy" alt="게시글 썸네일" src="[##_list_rep_thumbnail_##]"></s_list_rep_thumbnail>
  </div>
  <div class="itemHead">
    <h2 class="title">[##_list_rep_title_##]</h2>
    <span class="category">[##_list_rep_category_##]</span>
  </div>
  <div class="itemBody">
    <span class="content">[##_list_rep_summary_##]</span>
  </div>
  <div class="itemTail">
    <span class="date">[##_list_rep_regdate_##].</span>
    <span class="writer">[##_list_rep_author_##]</span>
  </div>
  <span class="tape"></span>
</article></a></li></s_list_rep>
  </ul>

  <script>//
(function(){
  //// 화면별 기본 보기형식

  var a = document.querySelector('#tt-body-tag #postList')
  if( a != null ) a.className = 'postit'

  var a = document.querySelector('#tt-body-search #postList')
  if( a != null ) a.className = 'detailed'


  //// 썸네일 없으면 대체이미지
  const noThumbnail = "[##_var_noThumbnail_##]" || "https://t1.daumcdn.net/tistory_admin/static/manage/images/r3/default_L.png";

  const thumbnails = document.querySelectorAll('#postList .thumbnail')
  for( let thumbnail of thumbnails ){
    if( thumbnail.getElementsByTagName('img').length == 0 ){
      thumbnail.classList.add('noThumbnail');
      thumbnail.innerHTML = '<img class="noThumbnail" alt="썸네일 없음" src="' +noThumbnail+ '">';
    }
  }

  //// 검색어 강조
  if( document.getElementById('tt-body-search') != null ){//검색 페이지일 때만
    const searchword = document.querySelector('#listHead .title').innerText;// 검색어

    const titles = document.querySelectorAll('#postList .title');// 검색어 강조할 곳 1: 글제목
    for( let e of titles )
      e.innerHTML // 문자열 치환: 검색어들을 span 태그로 감싸기
        = e.innerHTML.replaceAll(
          searchword, 
          '<span class="searchword">'+searchword+'</span>');

    const contents = document.querySelectorAll('#postList .content')// 검색어 강조할 곳 1: 글본문
    for( let e of contents )
      e.innerHTML // 문자열 치환: 검색어들을 span 태그로 감싸기
        = e.innerHTML.replaceAll(
          searchword, 
          '<span class="searchword">'+searchword+'</span>');

    const anchors = document.querySelectorAll('#postList .postAnchor')// 링크에 파라미터로 검색어 추가
    for( let a of anchors )
      a.href = a.href + '?searchword=' + searchword;
  }

})()
  </script>
</section>
</s_list>
<s_tag><!--◆ 태그 페이지 -->
  <section>
    <h2 class="pageTitle">인기 태그 <span id="tagCount-pop"></span> 개</h2>
    <ul id="tagBox" class="_textShadowBackcol">
      <s_tag_rep><li><a href="[##_tag_link_##]" class="tagcloud tag[##_tag_class_##]">[##_tag_name_##]</a></li></s_tag_rep>
    </ul>
  </section>

  <hr class="areaSeparator">

  <section style="position: relative;">
    <h2 class="pageTitle">전체 태그 <span id="tagCount-all"></span>개 가나다순</h2>
    <div id="tagChosongsBoxOuter"><div id="tagChosongsBox"></div></div>
    <div id="main4" class="tagBoxOrdered">
      <div class="_backColSlightly"></div>
    </div>
  </section>

  <script type="text/javascript">
//
(function(){
  //// 태그 개수
  const count_pop = document.getElementById('tagBox').querySelectorAll('.tagcloud1,.tagcloud2,.tagcloud3').length;
  const count_all = document.getElementById('tagBox').getElementsByClassName('tagcloud').length;
  document.getElementById('tagCount-pop').innerText = count_pop;
  document.getElementById('tagCount-all').innerText = count_all;
})();

document.addEventListener('DOMContentLoaded', function(){
  //// 한글 초성
  const Chosong = ['ㄱ', 'ㄲ', 'ㄴ', 'ㄷ', 'ㄸ', 'ㄹ', 'ㅁ', 'ㅂ', 'ㅃ', 'ㅅ', 'ㅆ', 'ㅇ', 'ㅈ', 'ㅉ', 'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ'];

  //// 태그를 초성별로 모음
  //// 태그: HTML 태그를 가리키는 말이 아니라 블로그 게시글의 태그
  const grouped = getGroupedElements(
    Array.from(document.getElementById('tagBox').children)// tagBox의 자식 요소를 배열로 수집
  );

  //// 결과 구성: 키 가나다순으로 버킷에서 HTML 요소 만들어 추가
  const tagChosongsBox = document.getElementById('tagChosongsBox');// 초성버튼모음
  const tagBoxOrdered  = document.getElementById('main4');// 생성된 요소들이 들어갈 곳
  const sortedKeys = Object.keys(grouped).sort((a, b) => {
    return a.localeCompare(b, 'ko-KR');
  });
  sortedKeys.forEach(key => {
    tagChosongsBox.appendChild( createChosongBtn(key) );
    tagBoxOrdered.appendChild( createBucketElement(key) );
  });

  /**
   * 태그 요소들을 초성별로 모음
   * 
   * @param items 태그 요소들
   */
  function getGroupedElements( items ){
    const grouped = {};// 초성으로 분류

    items.forEach(el => {// 항목 분류
      const text = el.textContent.trim();
      if( text.length === 0) return;

      const key = getTextInitial(text[0]);// 분류기준: 초성
      if( !grouped[key] )
        grouped[key] = [];

      grouped[key].push( el.cloneNode(true) );// 노드 복사본 저장
    });

    return grouped;
  }

  /**
   * 초성버튼 생성
   * 
   * @param key 버킷 키 즉 초성
   */
  function createChosongBtn( key ){

    const btn = document.createElement('button');
    btn.classList.add('softBtn');
    btn.textContent = key;
    btn.onclick = (function(){
      document.getElementById( 'tag-initial--' + key )
        .scrollIntoView();
    });
    return btn;
  }

  /**
   * 버킷으로부터 HTML 요소 생성
   * 
   * @param key 버킷 키 즉 초성
   */
  function createBucketElement( key ){

    const bucket = document.createElement('div');
    bucket.className = 'bucket';

    const bucketName = document.createElement('h4');
    bucket.appendChild(bucketName);
    bucketName.className = 'bucketName';
    bucketName.innerText = key;
    bucketName.id = 'tag-initial--' + key;

    const list = document.createElement('ul');
    bucket.appendChild(list);
    list.className = 'list';

    grouped[key].sort(
      (a, b) => a.innerText.localeCompare(b.innerText, 'ko-KR'))
      .forEach(clone => list.appendChild(clone));

    return bucket;
  }

  //// 초성 추출
  function getTextInitial( char ) {
    const code = char.charCodeAt(0);
    // 한글 음절: 가 ~ 힣 (U+AC00 ~ U+D7A3)
    if( code >= 0xAC00 && code <= 0xD7A3 ){
      const index = Math.floor((code - 0xAC00) / 588);
      return Chosong[index];
    }

    // 영문자: 대문자로 변환 후 첫 글자 반환
    if( /[a-zA-Z]/.test(char) ){
      return char.toUpperCase();
    }

    // 숫자나 기타 문자
    return '#';
  }
});
  </script>
</s_tag>
<s_guest><!--### 방명록 페이지 --><div id="commentSec" class="guestPage">
  <h1 class="areaTitle">누구누구 왔다감</h1>


<!-- 방명록 입력폼 -->
<div class="formBox"><s_guest_input_form>
  <s_guest_form><p class="guest">
      <label>이름:
        <input type="text"     id="commentInput_name"     class="softInput" name="[##_guest_input_name_##]"     value="[##_guest_name_##]"          size="15" />
      </label>
      <label>
        비밀번호:
        <input type="password" id="commentInput_password" class="softInput" name="[##_guest_input_password_##]" value="[##_guest_password_##]" size="12" maxlength="8" />
      </label>
      <label>
        홈페이지:
        <input type="text"     id="commentInput_homepage" class="softInput" name="[##_guest_input_homepage_##]" value="[##_guest_homepage_##]"      size="24" />
      </label>
  </p></s_guest_form>
  <textarea 
      class="commentInput thickInput" 
      name="[##_guest_textarea_body_##]" 
      rows="5" cols="30" 
      placeholder="편지 한 장 쓸 때마다 두 번 세 번 읽어보며 이 편지가 번화가에 떨어져 나의 원수가 펴보더라도 내가 죄를 얻지 않을가를 생각하며 써야 하고; 또한 이 편지가 수백 년동안 전해져 안목있는 많은 사람들의 눈에 띄더라도 조롱받지 않을 만한가를 생각해본 뒤에야 비로소 봉해야 한다. -정약용"></textarea>
  <div class="submitBox">
    <label>
      <input type="checkbox" name="[##_guest_input_is_secret_##]" class="checkbox" />
      귓속말로
    </label>
    <input 
        type="submit" 
        class="commentBtn thickBtn" 
        value="라고 한마디 하기" 
        onclick="[##_guest_onclick_submit_##]" />
  </div>
</s_guest_input_form></div>

  <div id="pagingCopy" class="paging copy-target" data-copyname="paging"></div>

<s_guest_container><!-- 방명록 목록 --><ul class="comment1List commentList">

  <s_guest_rep><li id="[##_guest_rep_id_##]">
    <div class="comment comment1 [##_guest_rep_class_##] _backCol">
      <div class="areaImg">
        <img loading="lazy" class="propic" alt="작성자 프사" src="[##_guest_rep_logo_##]">
      </div>
      <div class="area1">
        <span class="writer">[##_guest_rep_name_##]</span>
      </div>
      <div class="area2">
        <span class="content">[##_guest_rep_desc_##]</span>
      </div>
      <div class="area3">
        <span class="date">[##_guest_rep_date_##]</span
        ><button onclick="[##_guest_rep_onclick_reply_##]">대꾸</button
        ><button onclick="[##_guest_rep_onclick_delete_##]">&#x2715;</button>
      </div>
    </div>
    <s_guest_reply_container><!-- 답글 목록 --><ul class="comment2List commentList">
      <s_guest_reply_rep><li id="[##_guest_rep_id_##]">
        <div class="comment comment2 [##_guest_rep_class_##] _backCol">
          <span class="tape"></span>
          <div class="areaImg">
            <img loading="lazy" class="propic" alt="작성자 프사" src="[##_guest_rep_logo_##]">
          </div>
          <div class="area1">
            <span class="writer">[##_guest_rep_name_##]</span>
          </div>
          <div class="area2">
            <span class="content">[##_guest_rep_desc_##]</span>
          </div>
          <div class="area3">
            <span class="date">[##_guest_rep_date_##]</span>
            <button onclick="[##_guest_rep_onclick_delete_##]">&#x2715;</button>
          </div>
        </div>
      </li></s_guest_reply_rep>
    </ul></s_guest_reply_container>
  </li></s_guest_rep>
</ul></s_guest_container>


  <p class="listMsg"></p>

  <script type="text/javascript">
    //// 댓글목록 비었으면 표시
    if( document.querySelector('#commentSec .commentList').childElementCount === 0 ){
      document.querySelector('#commentSec .listMsg').innerText = '방명록이 없습니다.';
    }
  </script>
</div></s_guest>
<s_paging><!--### 페이징 -->
  <div id="paging" class="paging copy-origin" data-copyname="paging">
    <a [##_prev_page_##] class="[##_no_more_prev_##]"><button class="thickBtn">◀</button></a>
      <s_paging_rep>
        <a [##_paging_rep_link_##] class="num"><button class="thickBtn">[##_paging_rep_link_num_##]</button></a>
      </s_paging_rep>
    <a [##_next_page_##] class="[##_no_more_next_##]"><button class="thickBtn">▶</button></a>
  </div>
  <script>(function(){
    const paging = document.getElementById('paging');

    //// 페이지가 1개 이하이면 페이징 버튼 삭제
    if( paging.childElementCount <= 3 ){
      paging.remove();
      const pagingCopy = document.getElementById('pagingCopy')?.remove();
    }
  })();</script>
</s_paging>

    </main><!-- 메인 ###-->

    <!--### 하단 광고 -->
    <div id="under">[##_revenue_list_lower_##]</div>

  </div></div>

<!--## 사이드바상자1 : 왼쪽 사이드바 영역 -->
<div id="sidebarBox1"  class="sidebarBox sidebarBoxV home-[##_var_home_sidebar1_##] fold close-onclick-outside"><!-- 클래스 초기상태: 모두 접힘 -->
  <aside id="sidebar1" class="sidebar sidebarV"><s_sidebar>


  <s_sidebar_element><!-- 카테고리 -->
  <div class="sidebar_element categories">
    <button class="bubbleBtn thickBtn">&#x1F6AA;</button>
    <nav id="navCat" class="sidebar_elementMain">
      [##_category_list_##]
    
</nav>

    
<script type="text/javascript">

  (function () {
    const sup_lis = document.querySelectorAll('#navCat .category_list > li');
    for (let sup_li of sup_lis) {

      //// 각 상위 카테고리 하위 첫 아이템으로 전체보기 추가
      let sub_ul = sup_li.querySelector('ul.sub_category_list');
      if( sub_ul == null ){// 하위 카테고리 없음
        sub_ul = document.createElement('ul');
        sub_ul.classList.add('sub_category_list');
        sup_li.append( sub_ul );
      }
      const sup_a = sup_li.getElementsByTagName('a')[0];// 원래 상위카테 a 태그: 새 하위 li(전체보기)로 이동.
      const sup_newSpan = document.createElement('span');// 원래 상위카테 a 태그를 대신함.
      sup_newSpan.classList.add('newA');
      sup_newSpan.textContent = sup_a.childNodes[0].textContent;
      sup_li.prepend( sup_newSpan );
      
      const allLi = document.createElement('li');
      sup_a.childNodes[0].textContent = ' 전체보기 ';
      allLi.append( sup_a );
      sub_ul.prepend( allLi );

      //// 각 상위 카테고리 누르면 여닫상태(하위 카테고리 보이기) 토글
      sup_newSpan.addEventListener('click', () => {
        sup_li.classList.toggle('open');
      });
    }
  })();

  document.addEventListener('DOMContentLoaded', function(){
    //// 카테고리 기본으로 펴기
    const category_list_list = document.querySelectorAll('#navCat .category_list > li');
    const catOpenLevel = '[##_var_catOpenLevel_##]';
    if( catOpenLevel === 'openAll' ){// 모두 열기
      for( let li of category_list_list ){
        li.classList.add('open');
      }
    }else if( catOpenLevel === 'openCurr' ){
      const currCat = (function(){
        if( window.location.pathname.startsWith('/category/') ){// 카테고리 페이지
          return window.location.pathname.substring(10).split('/')[0];// 10: '/category/' 글자수
        }else{
          let catBtn = document.querySelector('#postPagePost .func .category');
          if( catBtn != null ){
            return encodeURIComponent( catBtn.innerText.split('/')[0] );
          }
        }
        return null;
      })();
      if( currCat !== null ){
        const pathname = '/category/' + currCat;
        for( let li of category_list_list ){
          if( li.getElementsByTagName('a')[0].getAttribute('href') === pathname ){
            li.classList.add('open');
            break;
          }
        }
      }
    }
  });
</script>


  </div>
</s_sidebar_element>

  <s_sidebar_element><!-- 랜덤태그 -->
  <div class="sidebar_element randomtags">
    <button class="bubbleBtn thickBtn">&#x2601;&#xFE0F;</button>
    <div class="sidebar_elementMain randomtags">
      
  <p class="padding">
    <s_random_tags><a href="[##_tag_link_##]" class="tagcloud tag[##_tag_class_##]">[##_tag_name_##]</a> </s_random_tags>
  </p>

    </div>
    

    <span class="caption">랜덤태그</span>

  </div>
</s_sidebar_element>


  </s_sidebar></aside>
  <div id="sidebarBtnBox1">
    <button class="sidebarBtn open-toggleBtn thickBtn" data-opentarget="sidebarBox1">≡</button><!-- 펼접버튼 -->
  </div>
</div><!-- 사이드바상자1 ##-->

<!--## 사이드바상자2 : 오른쪽 사이드바 영역 -->
<div id="sidebarBox2" class="sidebarBox home-[##_var_home_sidebar2_##] fold close-onclick-outside">
  <aside id="sidebar2" class="sidebar sidebarV"><s_sidebar>


  <s_sidebar_element><!-- 현재시각 -->
  <div class="sidebar_element datetime">
    <button class="bubbleBtn thickBtn"><span id="bubbleBtnHour"></span>:<span id="bubbleBtnMinute"></span></button>
    <div class="sidebar_elementMain _textCenter">
      
  <div style="position: relative; padding: 20px 0;">
    <!-- 시계 그림 -->
    <div style="position: absolute; top: -10px; width: 100%">
      <!-- 바늘 -->
      <div class="niddle" style="color: var(--pointCol)">▼</div>
      <!-- 시계원 -->
      <div class="circle" 
          style="
            margin: 0 auto;
            width: 60px; 
            height: 60px; 
            border-style: solid;
            border-width: 5px; 
            border-radius: 50%; 
            border-color: #0af5 #0af5 #fd05 #fd05;
            "></div>
    </div>
    <p style="position: relative;">
      <span class="year"></span>년
      <b><span class="month"></span></b>월
      <b><span class="date"></span></b>일
      <b><span class="day"></span>요일</b>
    </p>
    <p style="position: relative;">
      <b><span class="ampm"></span></b>
      <span class="hour strong"></span>시
      <span class="minute strong"></span>분
      <span class="second strong"></span>초
    </p>
  </div>

    
</div><script>(function(){
  const dayList = ['일','월','화','수','목','금','토'];
  const thisSidebarItem = document.querySelector('.sidebar_element.datetime');
  if( thisSidebarItem != null ){
    updateClock();
    updateClockRotation( new Date() );
    setTimeout( updateClock, 1000 );

    //// 시계 업데이트
    function updateClock() {

      const now = new Date();// 현재 시각

      thisSidebarItem.getElementsByClassName('second')[0].innerText = now.getSeconds();
      const hour   = (now.getHours() == 12) ? 12 : (now.getHours())%12;
      const minute = now.getMinutes()
      thisSidebarItem.getElementsByClassName('year')[0].innerText = now.getFullYear();
      thisSidebarItem.getElementsByClassName('month')[0].innerText = now.getMonth()+1;
      thisSidebarItem.getElementsByClassName('date')[0].innerText = now.getDate();
      thisSidebarItem.getElementsByClassName('day')[0].innerText = dayList[now.getDay()];
      thisSidebarItem.getElementsByClassName('hour')[0].innerText = hour;
      thisSidebarItem.getElementsByClassName('ampm')[0].innerText = (now.getHours() < 12) ? '오전' : '오후';
      thisSidebarItem.getElementsByClassName('minute')[0].innerText = minute;
      document.getElementById('bubbleBtnHour').innerText   = hour   < 10 ? '0'+hour   : hour  ;
      document.getElementById('bubbleBtnMinute').innerText = minute < 10 ? '0'+minute : minute;
      updateClockRotation( now );

      let tt = Date.now();
      const nextTick = Math.floor( tt/1000 ) * 1000 + 1000;
      let timeToWaitForNextTick = nextTick - tt;
      if( timeToWaitForNextTick < 1 ){
        timeToWaitForNextTick = 1000
      }
      setTimeout( updateClock, timeToWaitForNextTick );
    }

    //// 시계원 회전
    function updateClockRotation( now ){
      thisSidebarItem.getElementsByClassName('circle')[0]
        .style.transform 
        = 'rotate('+(-45-now.getHours()*15-now.getMinutes()*0.25)+'deg)'
    }
  }
})();</script>

    

    <span class="caption">현재시각</span>

  </div>
</s_sidebar_element>

  <s_sidebar_element><!-- 본문목차 -->
  <div class="sidebar_element bonmunContentsTable">
    <button class="bubbleBtn thickBtn">&#x2630;</button>
    <div class="sidebar_elementMain bonmunContentsTable">
      
  <!-- 게시글 보기 페이지에서만 나타난다. hn 태그들을 인식해서 목차를 만든다. -->
  <ol id="bonmunHeadingList" class="_textLeft"></ol>

    </div>
    
<script>(function(){
  if( document.getElementById('tt-body-page') == null ){
    document.querySelector('.sidebar_element.bonmunContentsTable').remove();
  }else{// 게시글 페이지일 때만
    //// 본문 다 불러온 뒤에 목차 생성
    document.addEventListener('DOMContentLoaded', function(){
      const list = document.getElementById('bonmunHeadingList')
      const bonmun = document.getElementsByClassName('bonmun')[0];
      const genFunc = 
/**
 * @param list 생성된 목차를 넣을 HTML 요소.
 * @param bonmun 이 HTML 요소 안의 h2,h3,h4 요소들로 목차 생성.
 */
( bonmun , list )=>{
  const hs = bonmun.querySelectorAll('.pmargin > h2, .pmargin > h3, .pmargin > h4');// 대상 소제목 요소들 선택
  let level = 0;
  let h2 = 0;
  let h3 = 0;
  let h4 = 0;
  let htext;
  let hclass;
  let tempstr = '';
  for( let i=0; i<hs.length; i+=1 ){
    if( hs[i].nodeName == 'H2' ){
      level = 2;
      h2 += 1;// 자기 번호 카운트
      h3 = 0;// 하위 문단 번호 초기화
      h4 = 0;// 하위 문단 번호 초기화
      hn = h2;// 번호
      hclass = 'h2';
    }
    if( hs[i].nodeName == 'H3' ){
      level = 3;
      h3 += 1;// 자기 번호 카운트
      h4 = 0;// 하위 문단 번호 초기화
      hn = h2+'-'+h3;// 번호
      hclass = 'h3';
    }
    if( hs[i].nodeName == 'H4' ){
      level = 4;
      h4 += 1;// 자기 번호 카운트
      hn = h2+'-'+h3+'-'+h4;// 번호
      hclass = 'h4';
    }
    htext = hs[i].innerText;
    //// 소제목에 번호 붙이기
    if( '[##_var_bonmunHeadingNumbering_##]' == true ){
      hs[i].innerHTML 
        = '<span class="hn" id="hn-'+hn+'">'+hn+'. </span>'
        + hs[i].innerHTML;
      //// 목차 모듈에 항목 생성 (번호 있음)
      tempstr += 
        '<li class="line-out '+hclass+'">'
        +'<a class="line-in" href="#hn-'+hn+'">'
        +   '<span class="num">'+hn+'</span>. '+htext
        +'</a></li>';
    }
    else{
      //// 목차 모듈에 항목 생성 (번호 없음)
      tempstr += 
        '<li class="line-out '+hclass+'">'
        +'<a class="line-in" href="#hn-'+hn+'">'
        +   '<span class="numBlank numBlank'+level+'"></span>'+htext
        +'</a></li>';
    }
  }
  //// 다 돌았는데도 나온 소제목이 하나도 없으면 없다고 표시
  if( tempstr == '' ){
    list.innerHTML = '<li class="_textCenter">본문에 소제목이 없습니다.</li>'
  }
  else {// 소제목 있음
    list.innerHTML = tempstr;
    window.addEventListener('scroll', function(){// 스크롤 이벤트
      let currentH = 0;// 스크롤 위치 상; 현재 보고있는 목차 항목
      for( let i=0; i < hs.length; i+=1 ){// 초기화
        list.childNodes[i].classList.remove('current');
      }
      for( let i=hs.length-1; i >= 0 ; i-=1 ){
        if( hs[i].getBoundingClientRect().y < (window.outerHeight)/3 ){// 소제목의 y위치가 어느정도보다 높으면
          list.childNodes[i].classList.add('current');
          break;
        }
      }
    });
  }
};
      genFunc( bonmun, list );
    });
  }
})();</script>


    <span class="caption">본문목차</span>

  </div>
</s_sidebar_element>

  <s_sidebar_element><!-- 설정 -->
  <div class="sidebar_element settings">
    <button class="bubbleBtn thickBtn">&#x2699;&#xFE0F;</button>
    <div class="sidebar_elementMain settings">
      
  <div class="settingForm darkmode">
  <input class="settingCore" type="hidden" name="darkmode" onchange="onchangeDarkmode(this)" oninvalid="setDefaultDarkmode(this)">
  빛깔:
    <label class="option light"
        style="
          background-color:[##_var_listBack_light_##];
          color: [##_var_baseTextCol_light_##];"
      ><input type="radio" id="darkmodeBtn-light"
          name="darkmode"
          class="optionRadio settingAction clickValue"
          value="false"
      />해
    </label>
    <label class="option dark"
        style="
          background-color:[##_var_listBack_dark_##];
          color: [##_var_baseTextCol_dark_##];"
      ><input type="radio" id="darkmodeBtn-dark"
          name="darkmode"
          class="optionRadio settingAction clickValue"
          value="true"
      />검
    </label>
  <label><input type="checkbox" class="fixCbox" oninvalid="setDefaultDarkmode()" />굄</label>
  <script type="text/javascript">
    const darkmodeBtn_light = document.getElementById('darkmodeBtn-light');
    const darkmodeBtn_dark  = document.getElementById('darkmodeBtn-dark');

    function onchangeDarkmode( settingCore ){
      setDarkmode( settingCore );
      setSettingFixCbox( settingCore.name, true );
    }

    function setDarkmode( settingCore , isDark ){
      if( isDark === undefined )
        isDark = settingCore.value === 'true' ? true : false;

      if( isDark ){
        document.body.classList.add('theme-dark');
        document.body.classList.remove('theme-light');
        document.documentElement.setAttribute('data-theme', 'dark');
        document.getElementById('darkmodeBtn-dark').checked = true;
      } else {
        document.body.classList.add('theme-light');
        document.body.classList.remove('theme-dark');
        document.documentElement.setAttribute('data-theme', 'light');
        document.getElementById('darkmodeBtn-light').checked = true;
      }
    }

    //// 시간대에 따라 다크모드 설정
    function setDefaultDarkmode( settingCore ) {
      if( settingCore === undefined )
        settingCore = document.getElementById('settingCore-darkmode');

      const hour = new Date().getHours();
      if( hour >= 18 || hour < 6 ){
        settingCore.value = 'true';
        setDarkmode( settingCore, true );
      }else{
        settingCore.value = 'false';
        setDarkmode( settingCore, false );
      }
    }
  </script>
</div>
  <div class="fontsize settingForm">
  <input type="hidden" class="settingCore" name="fontsize" value="100" onchange="onchangeFontsize(this)" />
  글자: 
  <button class="fontsizeBtn fontsizeBtnDown  softBtn" onclick="clickFontsizeBtn(-1)" style="font-size: 75%;">작게</button>
  <button class="fontsizeBtn fontsizeBtnReset softBtn" onclick="clickFontsizeBtn( 0)" >보통</button>
  <button class="fontsizeBtn fontsizeBtnUp    softBtn" onclick="clickFontsizeBtn( 1)"  style="font-size: 135%;">크게</button>
  <label><input type="checkbox" class="fixCbox" />굄</label>
  <script type="text/javascript">
    function onchangeFontsize( settingCore ) {
      document.body.style.fontSize = settingCore.value + '%';
    }

    function clickFontsizeBtn( goup ){
      let value = Number(getSettingValue('fontsize'));
      if( goup === 1 ){
        value += 5; if( value > 150 ) value = 150;
      }else if( goup === -1 ){
        value -= 5; if( value < 75 ) value = 75;
      }else{
        value = 100;
      }
      setSettingValue( 'fontsize', value );
    }
  </script>
</div>

    </div>
    

    <span class="caption">설정</span>

  </div>
</s_sidebar_element>


  </s_sidebar></aside>
  <div id="sidebar2Remocon"></div>
</div><!-- 사이드바상자2 ##-->
</div>


<!--### 사이드바3 -->
<aside id="sidebar3" class="sidebar sidebarH home-none-[##_var_hideAtHome_sidebar3_##]">
  <s_sidebar>


  <s_sidebar_element><!-- 인기글 -->
  <div class="sidebar_element popularposts">
    <button class="bubbleBtn thickBtn">&#x1F525;</button>
    <ol class="sidebar_elementMain popularposts">
      
  <s_rctps_popular_rep><li class="line-out"><a href="[##_rctps_rep_link_##]" class="line-in">
    [##_rctps_rep_title_##]
    
  </a></li></s_rctps_popular_rep>

    </ol>
    

    <span class="caption">인기글</span>

  </div>
</s_sidebar_element>

  <s_sidebar_element><!-- 최근글 -->
  <div class="sidebar_element recentposts">
    <button class="bubbleBtn thickBtn">&#x26A1;</button>
    <ol class="sidebar_elementMain recentposts">
      
  <s_rctps_rep><li class="line-out"><a href="[##_rctps_rep_link_##]" class="line-in">
    [##_rctps_rep_title_##]
    
  </a></li></s_rctps_rep>

    </ol>
    

    <span class="caption">최근글</span>

  </div>
</s_sidebar_element>

  <s_sidebar_element><!-- 최근댓글 -->
  <div class="sidebar_element recentcomments">
    <button class="bubbleBtn thickBtn">&#x1F4AC;</button>
    <ol class="sidebar_elementMain recentcomments">
      
  <s_rctrp_rep><li class="line-out"><a href="[##_rctrp_rep_link_##]" class="line-in">
    [##_rctrp_rep_desc_##]
  </a></li></s_rctrp_rep>

    </ol>
    

    <span class="caption">최근댓글</span>

  </div>
</s_sidebar_element>

  <s_sidebar_element><!-- 포스팅달력 -->
  <div class="sidebar_element calendar">
    <button class="bubbleBtn thickBtn">달력</button>
    <div class="sidebar_elementMain calendar">
      
  [##_calendar_##]

    </div>
    

    <span class="caption">포스팅달력</span>

  </div>
</s_sidebar_element>

  <s_sidebar_element><!-- 손님의 수 -->
  <div class="sidebar_element visitcount">
    <button class="bubbleBtn thickBtn">&#x1F465;</button>
    <div class="sidebar_elementMain visitcount">
      
  <p class="padding" style="font-size: 0.9em">
    감사하게도 어제 <span class="strong">[##_count_yesterday_##]</span>분, 오늘 <span class="strong">[##_count_today_##]</span>분으로 이제까지 총 <span class="strong">[##_count_total_##]</span>분이 우리 블로그를 찾아주셨습니다.
  </p>

    </div>
    

    <span class="caption">손님의 수</span>

  </div>
</s_sidebar_element>


  </s_sidebar>
</aside><!-- 사이드바3 ###-->

<!--## 푸터 -->
<footer id="footer" class="home-none-[##_var_hideAtHome_Footer_##] _backCol">
  <h5 class="sectionTitle"><span>[##_title_##]</span></h5>
  <div id="footerContentBox">
    <div class="nuguisho">
      <h6 class="areaTitle">Nuguishŏyo?</h6>
      <hr>
      <div class="content">
        <p class="bloggerBox _textLeft">블로거 <span class="name blogger _fontLarger">[##_blogger_##]</span></p>
        <img class="blogImg" src="[##_image_##]">
        <p class="desc">[##_desc_##]</p>
      </div>
    </div>
    <div class="links">
      <h6 class="areaTitle">LINKS</h6>
      <hr>
      <ul class="blogLinks _textLeft">
        <s_link_rep><li><a href="[##_link_url_##]" target="_blank">[##_link_site_##]</a></li></s_link_rep>
        <li><a href="[##_rss_url_##]">RSS</a></li>
      </ul>
    </div>
  </div>
  <div class="etc _textRight">
    <p>[##_var_footerText_##]</p>
    <p>블로그 스킨 「Text-Note-Book」 <span id="skin-version" class="v26-01-08-104134">v26-01-08-104134</span><br>
      <a href="https://github.com/arinmandri/text-note-book" target="_blank">#깃허브</a>
    </p>
  </div>
</footer>

<script>
//
(function(){
const bonmuns = document.querySelectorAll('.bonmun .contents_style');
for( let bonmun of bonmuns ){
  bonmun.classList.add('pmargin');
}

//// searchword 강조
const searchword = param.searchword;
if( searchword ){
  for( let e of document.getElementsByClassName('bonmun') ){
    e.innerHTML // 문자열 치환: 검색어들을 span 태그로 감싸기
      = e.innerHTML.replaceAll(
        searchword, 
        '<span class="searchword">'+searchword+'</span>');
  }
}

//// 숨김상자미리보기, 숨은상자 클릭하면 부모인 숨김상자가 열렸다 닫혔다 한다
const hidingBoxes = document.querySelectorAll('.hidingBox');
for( let hidingBox of hidingBoxes ){
  //// 미리보기 요소의 클릭이벤트 (숨은내용 펴기)
  hidingBox.querySelector('.hidingPreview').setAttribute('onclick', 'this.parentNode.classList.toggle("open")')
  //// 다시 숨기기 버튼 만들기
  const btn1 = document.createElement('button')
  const btn2 = document.createElement('button')
  btn1.className = 'hidingPostview'
  btn2.className = 'hidingPostview'
  btn1.innerHTML = '⁋┏접기'
  btn2.innerHTML = '접기┛⁋'
  btn1.setAttribute('onclick', 'this.parentNode.parentNode.classList.toggle("open")')
  btn2.setAttribute('onclick', 'this.parentNode.parentNode.classList.toggle("open")')
  //// 버튼1은 첫번째 숨은내용의 첫번째 자식,
  //// 버튼2는 마지막 숨은내용의 마지막 자식으로 추가
  const hiddenBoxes = hidingBox.querySelectorAll('.hiddenBox')
  hiddenBoxes[0                   ].prepend(btn1)
  hiddenBoxes[hiddenBoxes.length-1].append(btn2)
}

//// 숨김글귀 클릭시 고정
const hidingPhrases = document.getElementsByClassName('hidingPhrase');
for( let hidingPhrase of hidingPhrases ){
  hidingPhrase.addEventListener('click', function(){
    this.classList.add('fixed');
  })
}

//// 비어있는 a태그의 내부 텍스트 #
const as = document.querySelectorAll('.bonmun a')
for( let a of as ){
  if( a.innerText == '' )
    a.innerHTML = '#'
}
//// 외부 링크(블로그 밖의 페이지)로 이동하는 a는 새 페이지에
for( let a of as ){
  const hostname = new URL( a.href ).hostname;
  if( hostname !== thisHostname )// 이 블로그 안의 주소가 아니면
    a.target = '_blank'// 새 페이지에서 열기
}

//// ol의 리스트 스타일 만들기 (버튼 태그인 이유는 그 망할 텍스트 세로가운데정렬 하려고)
const ols = document.querySelectorAll('.bonmun ol')
for( let ol of ols ){
  const ollis = ol.children;
  const start = ol.start;// ol 태그의 원래 start 기능 따라하기
  let i=0;
  for( let olli of ollis ){
    // <button class="olliMarker"> (i+1) </button>
    const temp = document.createElement('button')
    temp.innerText = i + start
    temp.className = 'olliMarker'
    olli.prepend(temp);
    i+=1;
} }

//// decode linkStr
for( let el of document.getElementsByClassName('linkStr') ){
  el.innerText = decodeURI(el.innerText);
}
})();

//
/*
사이드바1, 사이드바2 의 상태
- 접힘 .fold
- 펼침 .fold.open
- 열림 .flat
*/

const maxWidthOfmainH = getTskinOptionNumVal( '[##_var_maxWidthOfmainH_##]', 1000, 1500 );
document.getElementById('mainH').style.maxWidth = maxWidthOfmainH + 'px';

const minWidthToOpenSidebar1 = ( document.getElementById('tt-body-index') == null// 홈화면에서만 넓은화면에서도 안 펴기
    || '[##_var_home_sidebar1_##]' === 'usual' )
  ? getTskinOptionNumVal( '[##_var_minWidthToOpenSidebar1_##]', 1000, 9999 )
  : 9999;
const minWidthToOpenSidebar2 = ( document.getElementById('tt-body-index') == null
  || '[##_var_home_sidebar2_##]' === 'usual' )
  ?getTskinOptionNumVal( '[##_var_minWidthToOpenSidebar2_##]', 1000, 9999 )
  : 9999;
const sidebarboxVOccupyingWidth = 305;

const sidebarBox1     = document.getElementById('sidebarBox1');
const sidebarBox2     = document.getElementById('sidebarBox2');
const sidebar2        = document.getElementById('sidebar2');
const sidebar2Remocon = document.getElementById('sidebar2Remocon');

function sidebarBox2Close(){
  sidebar2.querySelectorAll('.open').forEach((item)=>{
    item.classList.remove('open');
  });
  sidebarBox2.classList.remove('open');
}
sidebarBox2.afterClose = sidebarBox2Close;

//// 사이드바2: 리모콘에 버튼 모으기
(function(){
  const sidebarItems_fromSidebar2 = sidebar2.children;
  const imgBanners = [];
  //// 사이드바2 접힘상태
  for( let sidebarItem of sidebarItems_fromSidebar2 ){

    if( sidebarItem.classList.contains('module_plugin') ){// 티스토리 플러그인 - 이미지 배너
      imgBanners.push( sidebarItem );
      continue;
    }

    const bubbleBtns = sidebarItem.getElementsByClassName('bubbleBtn');
    if( bubbleBtns.length === 0 )
      continue;
    if( bubbleBtns.length > 1 ){
      console.error('sidebar_element 안 bubbleBtns이가 여럿임.', sidebarItem);
      continue;
    }
    const bubbleBtn = bubbleBtns[0];
    bubbleBtn.addEventListener('click', ()=>{
      const currentlyOpen = sidebarItem.classList.contains('open');
      sidebarBox2Close();
      if( !currentlyOpen ){
        sidebarItem.classList.add('open');
        sidebarBox2.classList.add('open');
      }
    });
    sidebar2Remocon.appendChild( bubbleBtn );
  }

  if( imgBanners.length > 0 ){
    const bubbleBtn = document.createElement('button');
    bubbleBtn.classList.add('bubbleBtn', 'thickBtn');
    bubbleBtn.textContent = '배너';
    bubbleBtn.addEventListener('click', () => {
      sidebarBox2Close();
      sidebarBox2.classList.add('open');
      for( let sidebarItem of imgBanners ){
        sidebarItem.classList.add('open');
      }
    });
    sidebar2Remocon.appendChild( bubbleBtn );
  }
})();

document.addEventListener('DOMContentLoaded', function(){
  //// figure 순서 표시
  const captions = document.querySelectorAll('.sidebar .caption')
  for( let i=0; i<captions.length; i++ ){
    captions[i].innerHTML 
      = '<span class="semo">▴</span> figure '
      + (i+1)+': '
      + captions[i].innerText;
  }
});

//// 사이드바1, 사이드바2 펼접
let sidebar1_status;
let sidebar2_status;

//// 사이드바 펼접 상태
//// 사이드바1 펴나, 사이드바2 펴나, 메인2 마진 중앙정렬 하나
function getSidebarVStatus(){
  const vw = document.documentElement.clientWidth;
  return [
    ( vw >= minWidthToOpenSidebar1 ) ? true : false,
    ( vw >= minWidthToOpenSidebar2 ) ? true : false,
  ];
}


//// 화면 크기 조절
refreshSidebarVStatus();
window.addEventListener('resize', refreshSidebarVStatus);

function refreshSidebarVStatus(){

  const [s1_status_new, s2_status_new] = getSidebarVStatus();

  if( sidebar1_status !== s1_status_new ){// 사이드바1 펼접상태 바뀜
    sidebar1_status = s1_status_new;
    if( s1_status_new === true ){// 사이드바1 펴기
      sidebarBox1.classList.remove('fold');
      sidebarBox1.classList.remove('open');
      sidebarBox1.classList.add('flat');
      mainHBox.style.marginLeft = sidebarboxVOccupyingWidth + 'px';
    }else{
      sidebarBox1.classList.remove('flat');
      sidebarBox1.classList.add('fold');
      mainHBox.style.marginLeft = '0';
    }
  }
  if( sidebar2_status !== s2_status_new ){// 사이드바2 펼접상태 바뀜
    sidebar2_status = s2_status_new;
    if( s2_status_new === true ){// 사이드바2 펴기
      sidebarBox2.classList.remove('fold');
      sidebarBox2.classList.remove('open');
      sidebarBox2.classList.add('flat');
      sidebarBox2.classList.add('sidebarBoxV');
      sidebar2.classList.add('sidebarV');
      mainHBox.style.marginRight = sidebarboxVOccupyingWidth + 'px';
    }else{
      sidebarBox2.classList.remove('flat');
      sidebarBox2.classList.add('fold');
      sidebarBox2.classList.remove('sidebarBoxV');
      sidebar2.classList.remove('sidebarV');
      mainHBox.style.marginRight = '0';
    }
  }
}

//// 스크롤 아래로: 맨위로버튼 숨김
// 스크롤 위로: 맨위로버튼 표시
// totopBox의 height를 조절하여 구현.
document.addEventListener('DOMContentLoaded', function () {
  const totopBox = document.getElementById('totopBox');
  const sidebarBtnBox1 = document.getElementById('sidebarBtnBox1');
  const sidebar2Remocon = document.getElementById('sidebar2Remocon');

  let lastY = window.scrollY || 0;
  window.addEventListener('scroll', function () {
    const y = window.scrollY || 0;

    if      ( y < lastY ) {
      totopBox.style.height = ( y > window.innerHeight/2 ) ? '40px' : '0px';
      sidebarBtnBox1.classList.remove('hideByScrolling');
      sidebar2Remocon.classList.remove('hideByScrolling');
    }
    else if ( y > lastY ) {
      totopBox.style.height = '0px';
      sidebarBtnBox1.classList.add('hideByScrolling');
      sidebar2Remocon.classList.add('hideByScrolling');
    }

    lastY = y;
  }, { passive: true });
});

//// 블로그 링크(a 태그) 앞부분에 대응 이미지 태그 덧붙임.
(function (){
  const as = document.querySelectorAll('.blogLinks a');
  for( let a of as ){
    let logoName;
    //// url의 hostname으로 대응되는 로고 찾기
    try {
      const hostname = new URL( a.href ).hostname;
      if( a.href.endsWith('/rss') )                     logoName = 'rss';
      else if( hostname      ===  'youtu.be' )          logoName = 'youtube';
      else if( hostname      ===  'youtube.com' )       logoName = 'youtube';
      else if( hostname.endsWith('.youtube.com') )      logoName = 'youtube';
      else if( hostname      ===  'drive.google.com' )  logoName = 'gdrive';
      else if( hostname      ===  'instagram.com' )     logoName = 'instagram';
      else if( hostname.endsWith('.instagram.com') )    logoName = 'instagram';
      else if( hostname      ===  'x.com' )             logoName = 'x';
      else if( hostname.endsWith('.x.com') )            logoName = 'x';
      else if( hostname      ===  'twitter.com' )       logoName = 'x';
      else if( hostname.endsWith('.twitter.com') )      logoName = 'x';
      else if( hostname      ===  'twitch.tv' )         logoName = 'twitch';
      else if( hostname.endsWith('.twitch.tv') )        logoName = 'twitch';
      else if( hostname      ===  'tistory.com' )       logoName = 'tistory';
      else if( hostname.endsWith('.tistory.com') )      logoName = 'tistory';
      else if( hostname      ===  'blog.naver.com' )    logoName = 'naverblog';
      else if( hostname      ===  'cafe.naver.com' )    logoName = 'navercafe';
      else if( hostname      ===  'github.com' )        logoName = 'github';
      else if( hostname.endsWith('.github.com') )       logoName = 'github';
    }catch( e ){
      return false; // 유효하지 않은 URL인 경우
    }
    if( logoName != null ){
      const img = document.createElement('img');
      img.alt = logoName + '의 로고';
      img.src = './images/link-' + logoName + '.png';
      a.prepend( img );
    }else{// 로고 없음: 기본이미지 이모지
      a.prepend( String.fromCodePoint(0x1F517) );
    }
  }
})();

//// 광고차단 확인
function isAdBlocking(){
  let ad = document.getElementsByClassName('revenue_unit_wrap')[0];
  if( getComputedStyle(ad).display === 'none' )
    return true;
  return false;
}
</script>

</s_t3></body>
</html>